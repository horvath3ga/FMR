##### www.orianasoftware.com
# **Funkcionális specifikáció **
### MÁV CPS Rendszer fejlesztéséhez




|Fejlesztés neve|MÁV CR 103567 – Helyettesítések időszakos funkció átemelése FMR-ből CPS-be|
|---|---|
|Azonosító|Oriana ADO 152802|
|Modul|CPS|
|Release|-|
|Készítette|Arany László|
|Függőség|-|
|Fejlesztési ajánlat|91 óra|

|Verziókezelés|Col2|
|---|---|
|2025.05.09.|v1 - Arany László: eredeti verzió|
|||
|||


+ 36 1 398 0530


info@orianasoftware.com Montevideo utca 9, 1037, Budapest, Hungary


-----

## **1 Tartalom **

1 Tartalom ............................................................................................................................................................................ 1

2 Üzleti folyamat ................................................................................................................................................................... 2

2.1 A folyamat/funkció és a követelmények leírása ....................................................................................................... 2

3 Megoldási koncepció ......................................................................................................................................................... 2

3.1 A koncepció magas szintű leírása ............................................................................................................................. 2

4 Részletes specifikáció ........................................................................................................................................................ 3

4.1 Helyettesítések módosítása ...................................................................................................................................... 3

4.2 Helyettesítés képernyő létrehozása az Időszakos menüpont alatt.......................................................................... 3

4.2.1 Helyettesítés képernyő ................................................................................................................................... 4

4.2.2 Ideiglenes helyettesítés edit form .................................................................................................................. 5

4.3 Email értesítési szabály kiegészítése ........................................................................................................................ 6

5 Jogosultságok.................................................................................................................................................................... 7

6 Szükséges konfigurációk ................................................................................................................................................... 7

7 Elfogadási kritériumok ...................................................................................................................................................... 8

+ 36 1 398 0530 info@orianasoftware.com Montevideo utca 9, 1037, Budapest, Hungary


-----

## **2** **Üzleti folyamat **
#### **2.1 A folyamat/funkció és a követelmények leírása **

Az FMR-ben már működő ideiglenes helyettesítés beállítása funkciót szükséges biztosítani a CPS-ben is.

A funkció lehetővé teszi, hogy a felhasználó egy külön felületen rögzíthessen magának helyettesítést, meg tudja nézni saját

helyetteseit, az általa helyettesített felhasználókat is le tudja kérdezni.

Helyettesítés beállításakor tudja rögzíteni, hogy saját maga vagy csak a helyettese kapjon email értesítést.
## **3 Megoldási koncepció **
#### **3.1 A koncepció magas szintű leírása **

Az FMR-ben már elérhető Időszakos \ Helyettesítés menüpontban elérhető funkciót megvalósítjuk CPS-ben is, mellyel a
felhasználó az alábbiakat tudja megadni

   ideiglenes helyettesítést tud beállítani magának

   le tudja kérdezni az aktív helyetteseit, valamint az általa helyettesített felhasználókat akár visszamenőlegesen is

   meg tudja adni, hogy feladatairól értesítéseket felelősként ő maga vagy csak a helyettese kapjon

Ez a fejlesztés két korábbi FMR fejlesztés CPS-ben megvalósítását tartalmazza

   92774 - Ideiglenes és általános helyettesítés szemléltetése a felületen

   90641 - FMR-Helyettesítők értesítésének kialakítása

+ 36 1 398 0530 info@orianasoftware.com Montevideo utca 9, 1037, Budapest, Hungary


-----

## **4 Részletes specifikáció **
#### **4.1 Helyettesítések módosítása **

**A Beállítás \ Helyettesítések \ Általános helyettesítés és az Ideiglenes helyettesítés** űrlapok alját ki kell egészíteni

egy „Értesítések” mezőcsoporttal, melyben a következő mezőket kell létrehozni:









|Mező név|Mező típus|Kötelező?|Szerkeszthető?|Lehetséges értékek|Megjegyzés|
|---|---|---|---|---|---|
|Felelős|checkbox|Nem|Igen|Igen/Nem Alapértelmezetten igen.|Ha pipált és az Email értesítési szabályoknál a “Felelős és Helyettes” lett kiválasztva, akkor kap értesítést a feladatról a Felelős. Ha nem pipált és az Email értesítési szabályoknál a “Felelős és Helyettes” lett kiválasztva, akkor nem kap értesítést a feladatról a Felelős.|
|Helyettes|checkbox|Nem|Igen|Igen/Nem Alapértelmezetten igen.|Ha pipált és az Email értesítési szabályoknál a “Felelős és Helyettes” lett kiválasztva, akkor kap értesítést a feladatról a Helyettes. Ha nem pipált és az Email értesítési szabályoknál a “Felelős és Helyettes” lett kiválasztva, akkor nem kap értesítést a feladatról a Helyettes.|

#### **4.2 Helyettesítés képernyő létrehozása az Időszakos menüpont alatt **

**Az FMR-ben az Időszakos főmenü \ Helyettesítés almenü \ Helyettesítés fülön már létező funkció létrehozása**

**szükséges CPS-ben az eredetivel mindenben megegyező működéssel.**

Az alábbi leírás összefoglalja a funkciókat és a felületeket.

+ 36 1 398 0530 info@orianasoftware.com Montevideo utca 9, 1037, Budapest, Hungary


-----

##### **4.2.1 Helyettesítés képernyő **

**Egy új képernyő létrehozása: Időszakos főmenü \ Helyettesítés almenü \ Helyettesítés fül**

A fülön egy táblázat jelenik meg az alábbi mezőkkel:
##### 4.2.1.1 Mezők táblázatos nézetben

|Mező név|Leírás|
|---|---|
|Helyettesített személy||
|Helyettesített személy beosztása||
|Helyettes||
|Helyettes beosztása||
|Helyettesítés kezdete||
|Helyettesítés vége||



|4.2.1.2 Szűrők|Col2|
|---|---|
|Szűrő név|Leírás|
|Helyettes|a Helyettes mezőben szűr|
|Időszak|dátum intervallum szűrő|
|Helyettesítés|Értékei: Helyetteseim (alapértelmezett): azokat az általános és ideiglenes helyettesítés rekordokat mutatja, ahol a belépett felhasználó a Helyettesített személy oszlopban található Helyettesítéseim: azokat az általános és ideiglenes helyettesítés rekordokat mutatja, ahol a belépett felhasználó a Helyettes oszlopban található|
|Aktív|2 állású checkbox, Ha pipált, akkor csak az aktív helyettesítési rekordokat mutatja Ha nem pipált, akkor csak a NEM aktív helyettesítési rekordokat mutatja|

##### 4.2.1.3 Gombok




|Szűrő név|Leírás|
|---|---|
|Új ideiglenes helyettesítés|megnyílik az Ideiglenes helyettesítés edit form|
|Törlés|törli a kijelölt rekordot|


+ 36 1 398 0530 info@orianasoftware.com Montevideo utca 9, 1037, Budapest, Hungary


-----

##### **4.2.2 Ideiglenes helyettesítés edit form **

Az edit form a következő mezőket tartalmazza
##### 4.2.2.1 Mezők











|Mező név (magyar)|Mező típus|Kötelező?|Szerkeszthető ?|Lehetséges/ Alapértelmeze tt értékek|Megjegyzés, üzleti szabály|
|---|---|---|---|---|---|
|Helyettesített személy||nem|nem|alapértelmeze tten töltődik a felhasználó nevével||
|Helyettesített személy beosztása|drop down|igen|igen|A Helyettesített személy mezőben szereplő felhasználó beosztásait listázza.||
|Helyettes|drop down személy QTB|igen|igen|||
|Helyettesítés kezdete|dátum|igen|igen|||
|Helyettesítés vége|dátum|igen|igen|||
|Felelős|checkbox|Nem|Igen|Igen/Nem Alapértelmeze tten igen.|Ha pipált és az Email értesítési szabályoknál a “Felelős és Helyettes” lett kiválasztva, akkor kap értesítést a feladatról a Felelős. Ha nem pipált és az Email értesítési szabályoknál a “Felelős és Helyettes” lett kiválasztva, akkor nem kap értesítést a feladatról a Felelős.|


+ 36 1 398 0530 info@orianasoftware.com Montevideo utca 9, 1037, Budapest, Hungary


-----

|Mező név (magyar)|Mező típus|Kötelező?|Szerkeszthető ?|Lehetséges/ Alapértelmeze tt értékek|Megjegyzés, üzleti szabály|
|---|---|---|---|---|---|
|Helyettes|checkbox|Nem|Igen|Igen/Nem Alapértelmeze tten igen.|Ha pipált és az Email értesítési szabályoknál a “Felelős és Helyettes” lett kiválasztva, akkor kap értesítést a feladatról a Helyettes. Ha nem pipált és az Email értesítési szabályoknál a “Felelős és Helyettes” lett kiválasztva, akkor nem kap értesítést a feladatról a Helyettes.|

##### 4.2.2.2 Gombok

|Szűrő név|Leírás|
|---|---|
|Mentés|megnyomására a rekord mentésre kerül|
|Mégsem|az edit form bezár, mentés nem történik|

#### **4.3 Email értesítési szabály kiegészítése **


Az Email sablonok \ Email értesítési szabályok képernyőn az Email értesítési szabály edit formon megjelenő **Email**

**címzett** mező értékkészletét ki kell egészíteni egy új értékkel **„Felelős és helyettes”.**

E pont választása esetén alapértelmezetten a feladat eredeti felelőse és az őt helyettesítő személy is kap értesítést.

Ha az Email értesítési szabályoknál **nem a „Felelős és helyettes”,** hanem más érték van kiválasztva, akkor a fent leírt

**Felelős checkboxnak és Helyettes checkboxnak nincs hatása** .

**Általános helyettesítés** esetén a fenti szabályok **mindig** érvényesek.

**Ideiglenes helyettesítés** esetén CSAK akkor érvényesek a fenti szabályok, **ha az Ideiglenes helyettesítés aktív**, azaz a

feladat létrehozása a helyettesítés időszakába esik. Ha a feladat akkor jön létre, amikor az ideiglenes helyettesítés nem

aktív (azaz a helyettesítési időszakon kívülre esik), akkor a Felelős a checkboxok állapotától függetlenül értesítést kap.

+ 36 1 398 0530 info@orianasoftware.com Montevideo utca 9, 1037, Budapest, Hungary


-----

Az Általános helyettesítés és az Ideiglenes helyettesítés űrlapok mentésekor ellenőrizni kell, hogy a Felelős checkbox és a

Helyettes checkbox közül legalább az egyik pipálva legyen. Ha nincs, a következő hibaüzenetet írja a rendszer: „A felelős

és a helyettes közül legalább egyiküknek kötelező értesítést beállítani.”
## **5 Jogosultságok **

A funkciók elérhetőségét URM-ből szükséges szabályozni. **Itt fejlesztés nem szükséges!!**

Tervezett jogosultsági csoportok, akik használni fogják a funkciót:



|Jogosultsági csoport|Megjegyzés|
|---|---|
|Minden jogosultsági csoport|Az Időszakos\Helyettesítés menüpont alatti minden objektumra Módosítás jogot szükséges biztosítani minden jogosultsági csoport részére.|
||A Beállítások \ Helyettesítés \ Általános helyettesítés és Ideiglenes helyettesítés edit formokon létrehozott mezők megöröklik a környező mezők URM jogosultság beállításait. Ezt a beállítás során ellenőrizni szükséges.|

## **6 Szükséges konfigurációk **

Tesztelés vagy élesítés elvégzéséhez az alábbi konfigurációk beállítása szükséges:



|Ssz|Leírás|
|---|---|
|1|A Beállítások \ Email sablonok \ Email értesítési szabályok képernyőn szükséges felvenni / lecserélni a létező jogosultsági szabályokat úgy, hogy az Email címzett = Felelős helyett, Email címzett = Felelős és Helyettes-t kell megadni. Ahol az Email címzett = Felelős marad beállítva, ott a felelős mindig, a helyettesek pedig nem fognak értesítést kapni függetlenül a helyettesítésen megadott pipáktól (Felelős, Helyettes) beállítástól.|


+ 36 1 398 0530 info@orianasoftware.com Montevideo utca 9, 1037, Budapest, Hungary


-----

## **7 Elfogadási kritériumok **



|Ssz|Leírás|
|---|---|
|1|A rendszerbe belépve megjelenik az Időszakos főmenü és alatta a Helyettesítés almenü és fül|
|2|Az képernyőre navigálva a felhasználó alapértelmezetten a saját aktív helyetteseit látja, azaz Helyettesítés szűrő = Helyetteseim és Aktív szűrő = igen|
|3|A Helyettesítés szűrőt Helyettesítéseim-re állítva megjelennek a felhasználó által helyettesített felhasználók, az Aktív szűrőt NEM-re állítva pedig a lejárt helyettesítések.|
|4|Az Új ideiglenes helyettesítés gombot megnyomva megjelenik az Ideiglenes helyettesítés edit form, melyen a Helyettesített személy előtöltődik a felhasználó nevével és nem szerkeszthető, míg az összes többi mező kötelező. A form mentését követően a rekord mentésre kerül és megjelenik a képernyőn|
|5|Az Beállítás \ Email sablonok \ Email értesítési szabályok képernyőről megnyitott Email értesítési szabály edit formon az Email címzett mezőben a Felelős alatt kiválasztható a Felelős és Helyettes.|
|6|Az olyan email értesítési szabályok esetében, ahol az Email címzettnek a Felelős és helyettes van megadva a rendszer figyeli a helyettesítésnél megadott beállításokat és ha csak a Felelős van bepipálva, akkor csak a felelős, ha csak a Helyettes van bepipálva, akkor csak a Helyettes, ha pedig mindkettő, akkor mindkét felhasználó értesítést kap.|


+ 36 1 398 0530 info@orianasoftware.com Montevideo utca 9, 1037, Budapest, Hungary


-----

